<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- TODO: Waiting for https://github.com/Dogfalo/materialize/pull/3570 to become part of Materialize, before we can upgrade to jQuery 3 -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/0.0.1/prism.min.js"></script>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.1/js/materialize.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-materialize/0.2.2/angular-materialize.min.js"></script>

    <!-- App -->
    <script type="text/javascript" src="js/app.js"></script>
</head>

<body ng-app="app" ng-controller="controller">

    <div class="container">

        <h1>{{title}}</h1>

        <div class="row">
            <center>
                <button class="waves-effect waves-light btn" ng-click="filterByPublic()">filter</button>
            </center>
        </div>

        <div class="row category" ng-repeat="category in projects">
            <h2>{{category.category}}</h2>

            <div ng-repeat="value in category.projects" class="card col m8 offset-m2 s12">
                <div class="card-content">
                    <span class="card-title">
                        {{value.title}}
                        <i ng-if="!value.public" class="material-icons">lock</i>
                    </span>
                    <p class="project-description">{{value.description}}</p>
                    <p class="project-notes grey-text">{{value.notes}}</p>

                    <!--                    {{value}}-->
                </div>
                <div class="card-content buttons">
                    <div>
                        <span class="tech" ng-repeat="tech in value.technologies">{{tech}}</span>
                    </div>
                    <div>
                        <a class="link" ng-if="value.github" href="{{value.github}}">github</a>
                        <a class="link" ng-if="value.link" href="value.link">link</a>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="row" ng-controller="ModalController">
        <!-- Modal Trigger -->
        <div class="col s4">
            <a class="add-entry btn-floating btn-large waves-effect waves-light red" ng-click="openModal = true" data-target='demoModal' modal open="openModal">
                <i class="material-icons">add</i>
            </a>
        </div>
        <!-- Modal Structure -->
        <div id="demoModal" class="modal modal-fixed-footer">
            <div class="modal-content">
                <div class="row">
                    <form class="col s12">
                        <div class="row">
                            <h4 class="col s12">Add New Project</h4>
                        </div>
                        <div class="row">
                            <div class="col s12 m6" input-field>
                                <input type="text" ng-model="project.title">
                                <label>Title</label>
                            </div>
                            <div class="col s12 m6" style="margin-top:10px;">
                                <div style="margin-top:-10px;" input-field >
                                    <select material-select ng-model="project.category">
                                        <option value="" disabled selected>Category</option>
                                        <option value="WORK">work</option>
                                        <option value="CLASS">class</option>
                                        <option value="EXTRACURRICULAR">extracurricular</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col s12" input-field>
                                <textarea class="materialize-textarea" ng-model="project.description"></textarea>
                                <label>Description</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col s12" input-field>
                                <textarea class="materialize-textarea" ng-model="project.notes"></textarea>
                                <label>Notes</label>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col s6" input-field>
                                <input type="text" ng-model="project.github">
                                <label>GitHub</label>
                            </div>
                            <div class="col s6" style="padding-top:34px;">
                                <input type="checkbox" class="filled-in" id="filled-in-box" ng-model="project.public"/>
      <label for="filled-in-box">Public</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12 m6" input-field>
                                <input type="text" ng-model="project.link">
                                <label>Link</label>
                            </div>
                            <div class="col s12 m6" input-field>
                                <input type="text" ng-model="project.technologies">
                                <label>Technologies</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col s12 m6" input-field>
                                <input type="text" ng-model="project.startDate">
                                <label>Start Date</label>
                            </div>
                            <div class="col s12 m6" input-field>
                                <input type="text" ng-model="project.endDate">
                                <label>End Date</label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <a href="#!" class="modal-action waves-effect waves-green btn" ng-click="saveProject()">save</a>
                <a href="javascript:void(0)" class="modal-action modal-close waves-effect waves-green btn-flat">cancel</a>
            </div>
        </div>
    </div>

    <!--
    <footer class="page-footer">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <h5 class="white-text">Footer Content</h5>
                    <p class="grey-text text-lighten-4">You can use rows and columns here to organize your footer content.</p>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                Â© 2017 Olivia Wan
                <a class="grey-text text-lighten-4 right" href="http://github.com/omwan">GitHub</a>
            </div>
        </div>
    </footer>
-->

    <!--angular controllers-->
    <script src="js/controller.js"></script>
    <script src="js/modal-controller.js"></script>
</body>

</html>